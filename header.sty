% author: buwailee@nmhs 2017/4/6
\ProvidesPackage{header}

%% math Package
\RequirePackage{amssymb,amsfonts,amsmath,amsthm,bm,mathrsfs}

\def\pgfsysdriver{pgfsys-dvipdfm.def}
\RequirePackage{tikz}
\RequirePackage[all]{xy}

% Option

\newif\if@plain\@plainfalse
\DeclareOption{plain}{\@plaintrue}

\newif\if@book\@bookfalse
\DeclareOption{book}{\@plainfalse\@booktrue}
\DeclareOption{article}{\@plainfalse\@bookfalse}

\newif\if@afour\@afourfalse
\DeclareOption{a4paper}{\@afourtrue}
\DeclareOption{b5paper}{\@afourfalse}

\ExecuteOptions{plain,a4paper}
%%

%% Relax
\ProcessOptions\relax

\pdfhorigin=1 true in
\pdfvorigin=1 true in

\if@afour
%% a4paper
	\pdfpagewidth=210truemm
	\pdfpageheight=297truemm
	\if@plain
		\RequirePackage[a4paper, top=16mm, text={170mm, 248mm}, includehead, includefoot, hmarginratio=1:1, heightrounded]{geometry}
	\else
		% fancy headers & footers
		\RequirePackage{fancyhdr}
			\fancyhead{} % clear all header fields
			\fancyfoot{}
			% \renewcommand{\headrulewidth}{0.4pt}
			% \renewcommand{\footrulewidth}{0.4pt}
			\pagestyle{fancy}
			% \renewcommand{\chaptermark}[1]{\markboth{\thechapter}{}} 		%{\markboth{\MakeUppercase{#1}}{}}		
			\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
		
			% \renewcommand\thechapter{\Roman{chapter}} 
			% \renewcommand\thesection{\arabic{section}}
			% \newcommand{\ssection}[1]{%
			%   \section[#1]{\centering\normalfont\scshape #1}}
			% \newcommand{\ssectionstar}[1]{%
			%   \section*[#1]{\centering\normalfont\scshape #1}}
			% \newcommand{\ssubsection}[1]{%
			%   \subsection[#1]{\raggedright\normalfont\itshape #1}}
			% \newcommand{\ssubsection}{\subsection}
		\RequirePackage[a4paper, top=18mm, text={170mm, 246mm}, includehead, includefoot, hmarginratio=1:1, heightrounded]{geometry}
		\if@book
			\fancyhead[LO,RE]{{\sffamily\itshape\nouppercase{\rightmark}}}
			\fancyhead[RO,LE]{{\sf \thepage}}
		\else
			\fancyhead[L]{{\sffamily\itshape\nouppercase{\rightmark}}}
			\fancyhead[R]{{\sf \thepage}}
		\fi
		\headwidth=\textwidth
		\setlength{\headheight}{14pt}
	\fi
\else
%% b5paper
	\pdfpagewidth=176truemm
	\pdfpageheight=250truemm
	\RequirePackage[b5paper, top=14mm, text={144mm, 205mm}, includehead, includefoot, hmarginratio=1:1, heightrounded]{geometry}
	\if@plain
	\else
		% fancy headers & footers
		\RequirePackage{fancyhdr}
			\fancyhead{} % clear all header fields
			\fancyfoot{}
			% \renewcommand{\headrulewidth}{0.4pt}
			% \renewcommand{\footrulewidth}{0.4pt}
			\pagestyle{fancy}
			% \renewcommand{\chaptermark}[1]{\markboth{\thechapter}{}} 		%{\markboth{\MakeUppercase{#1}}{}}		
			\renewcommand{\sectionmark}[1]{\markright{\thesection.\ #1}}
		
			% \renewcommand\thechapter{\Roman{chapter}} 
			% \renewcommand\thesection{\arabic{section}}
			% \newcommand{\ssection}[1]{%
			%   \section[#1]{\centering\normalfont\scshape #1}}
			% \newcommand{\ssectionstar}[1]{%
			%   \section*[#1]{\centering\normalfont\scshape #1}}
			% \newcommand{\ssubsection}[1]{%
			%   \subsection[#1]{\raggedright\normalfont\itshape #1}}
			% \newcommand{\ssubsection}{\subsection}
		
		\if@book
			\fancyhead[LO,RE]{{\sffamily\itshape\nouppercase{\rightmark}}}
			\fancyhead[RO,LE]{{\sf \thepage}}
		\else
			\fancyhead[L]{{\sffamily\itshape\nouppercase{\rightmark}}}
			\fancyhead[R]{{\sf \thepage}}
		\fi
		\headwidth=\textwidth
		\setlength{\headheight}{14pt}
	\fi
\fi
\endinput